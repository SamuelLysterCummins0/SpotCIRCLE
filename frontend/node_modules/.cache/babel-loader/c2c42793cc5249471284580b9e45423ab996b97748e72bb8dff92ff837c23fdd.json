{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\samly\\\\Desktop\\\\CvProjects\\\\SpotCIRCLE\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport SpotifyPlayer from '../components/SpotifyPlayer';\nimport PlayerNotch from '../components/PlayerNotch';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5001/api';\nconst TIME_RANGES = {\n  'Last 4 weeks': 'short_term',\n  'Last 6 months': 'medium_term',\n  'All time': 'long_term'\n};\nconst Home = () => {\n  _s();\n  const [topTracks, setTopTracks] = useState([]);\n  const [topArtists, setTopArtists] = useState([]);\n  const [topAlbums, setTopAlbums] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [timeRange, setTimeRange] = useState('short_term');\n  const [currentTrack, setCurrentTrack] = useState(null);\n  const [queue, setQueue] = useState([]);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const location = useLocation();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const [tracksRes, artistsRes, albumsRes] = await Promise.all([axios.get(`${API_URL}/auth/top-tracks`, {\n          params: {\n            access_token: localStorage.getItem('spotify_access_token'),\n            time_range: timeRange\n          }\n        }), axios.get(`${API_URL}/auth/top-artists`, {\n          params: {\n            access_token: localStorage.getItem('spotify_access_token'),\n            time_range: timeRange\n          }\n        }), axios.get(`${API_URL}/auth/top-albums`, {\n          params: {\n            access_token: localStorage.getItem('spotify_access_token'),\n            time_range: timeRange\n          }\n        })]);\n        setTopTracks(tracksRes.data.items);\n        setTopArtists(artistsRes.data.items);\n        setTopAlbums(albumsRes.data.items);\n        setLoading(false);\n      } catch (error) {\n        var _error$response;\n        console.error('Error fetching data:', error);\n        setError(error);\n        setLoading(false);\n        if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n          navigate('/');\n        }\n      }\n    };\n    fetchData();\n  }, [timeRange, navigate]);\n  const handleLogout = () => {\n    localStorage.removeItem('spotify_access_token');\n    localStorage.removeItem('spotify_user_id');\n    navigate('/');\n  };\n  const handlePlayTrack = track => {\n    setCurrentTrack(track);\n    setIsPlaying(true);\n  };\n  const handlePlayArtist = async artist => {\n    try {\n      const response = await axios.get(`${API_URL}/auth/artist-tracks`, {\n        params: {\n          access_token: localStorage.getItem('spotify_access_token'),\n          artistId: artist.id\n        }\n      });\n      const tracks = response.data.tracks;\n      if (tracks && tracks.length > 0) {\n        const randomTrack = tracks[Math.floor(Math.random() * tracks.length)];\n        setCurrentTrack(randomTrack);\n        setIsPlaying(true);\n      }\n    } catch (error) {\n      console.error('Error playing artist:', error);\n    }\n  };\n  const handlePlayAlbum = async album => {\n    try {\n      const response = await axios.get(`${API_URL}/auth/album-tracks`, {\n        params: {\n          access_token: localStorage.getItem('spotify_access_token'),\n          albumId: album.id\n        }\n      });\n      const tracks = response.data.items;\n      if (tracks && tracks.length > 0) {\n        setQueue(tracks.slice(1));\n        setCurrentTrack(tracks[0]);\n        setIsPlaying(true);\n      }\n    } catch (error) {\n      console.error('Error playing album:', error);\n    }\n  };\n  const handlePlay = () => {\n    setIsPlaying(true);\n  };\n  const handlePause = () => {\n    setIsPlaying(false);\n  };\n  const handleNext = () => {\n    if (queue.length > 0) {\n      setCurrentTrack(queue[0]);\n      setQueue(queue.slice(1));\n    }\n  };\n  const handlePrevious = () => {\n    // For now, just restart the current track\n    // Could be enhanced to keep track of play history\n  };\n  const handleClosePlayer = () => {\n    setCurrentTrack(null);\n    setIsPlaying(false);\n    setQueue([]);\n  };\n  const renderTimeRangeSelector = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center gap-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"bg-gray-800 text-white px-4 py-2 rounded-lg\",\n      value: timeRange,\n      onChange: e => setTimeRange(e.target.value),\n      children: Object.entries(TIME_RANGES).map(([label, value]) => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: value,\n        children: label\n      }, value, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      className: \"px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg transition-colors\",\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n  const renderTrack = (track, index) => {\n    var _track$album, _track$album$images$, _track$stats;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800/30 p-4 rounded-lg group hover:bg-gray-800/60 transition-all\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: (_track$album = track.album) === null || _track$album === void 0 ? void 0 : (_track$album$images$ = _track$album.images[0]) === null || _track$album$images$ === void 0 ? void 0 : _track$album$images$.url,\n          alt: track.name,\n          className: \"w-full aspect-square object-cover rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handlePlayTrack(track),\n            className: \"p-3 bg-green-500 rounded-full hover:bg-green-600 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold truncate\",\n          children: [index + 1, \". \", track.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400 text-sm truncate\",\n          children: track.artists.map(a => a.name).join(', ')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-500 text-sm\",\n          children: [(_track$stats = track.stats) === null || _track$stats === void 0 ? void 0 : _track$stats.playCount, \" streams \\u2022 \", Math.round(track.duration_ms / 60000), \" minutes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 7\n      }, this)]\n    }, track.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 5\n    }, this);\n  };\n  const renderArtist = (artist, index) => {\n    var _artist$images$, _artist$stats, _artist$stats2;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800/30 p-4 rounded-lg group hover:bg-gray-800/60 transition-all\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: (_artist$images$ = artist.images[0]) === null || _artist$images$ === void 0 ? void 0 : _artist$images$.url,\n          alt: artist.name,\n          className: \"w-full aspect-square object-cover rounded-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-full flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handlePlayArtist(artist),\n            className: \"p-3 bg-green-500 rounded-full hover:bg-green-600 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold truncate\",\n          children: [index + 1, \". \", artist.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-500 text-sm\",\n          children: [(_artist$stats = artist.stats) === null || _artist$stats === void 0 ? void 0 : _artist$stats.playCount, \" minutes \\u2022 \", (_artist$stats2 = artist.stats) === null || _artist$stats2 === void 0 ? void 0 : _artist$stats2.trackCount, \" streams\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 7\n      }, this)]\n    }, artist.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 5\n    }, this);\n  };\n  const renderAlbum = (album, index) => {\n    var _album$images$, _album$stats, _album$stats2;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800/30 p-4 rounded-lg group hover:bg-gray-800/60 transition-all\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: (_album$images$ = album.images[0]) === null || _album$images$ === void 0 ? void 0 : _album$images$.url,\n          alt: album.name,\n          className: \"w-full aspect-square object-cover rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handlePlayAlbum(album),\n            className: \"p-3 bg-green-500 rounded-full hover:bg-green-600 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold truncate\",\n          children: [index + 1, \". \", album.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400 text-sm truncate\",\n          children: album.artists.map(a => a.name).join(', ')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-500 text-sm\",\n          children: [(_album$stats = album.stats) === null || _album$stats === void 0 ? void 0 : _album$stats.playCount, \" streams \\u2022 \", Math.round((_album$stats2 = album.stats) === null || _album$stats2 === void 0 ? void 0 : _album$stats2.totalMinutes), \" minutes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 7\n      }, this)]\n    }, album.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 5\n    }, this);\n  };\n  const renderSection = (title, items, renderItem) => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\",\n      children: items.map((item, index) => renderItem(item, index))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 5\n  }, this);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen text-red-500\",\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto p-4 space-y-8 mb-20\",\n      children: [renderTimeRangeSelector(), renderSection('Top tracks', topTracks, renderTrack), renderSection('Top artists', topArtists, renderArtist), renderSection('Top albums', topAlbums, renderAlbum)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PlayerNotch, {\n      track: currentTrack,\n      onPlay: handlePlay,\n      onPause: handlePause,\n      onNext: handleNext,\n      onPrevious: handlePrevious,\n      isPlaying: isPlaying,\n      queue: queue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), currentTrack && /*#__PURE__*/_jsxDEV(SpotifyPlayer, {\n      trackUri: currentTrack.uri,\n      previewUrl: currentTrack.preview_url,\n      onClose: handleClosePlayer\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(Home, \"GJcX7Wh+jj+W6pLTqJRw2/4OCXg=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","axios","useLocation","useNavigate","SpotifyPlayer","PlayerNotch","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","TIME_RANGES","Home","_s","topTracks","setTopTracks","topArtists","setTopArtists","topAlbums","setTopAlbums","loading","setLoading","error","setError","timeRange","setTimeRange","currentTrack","setCurrentTrack","queue","setQueue","isPlaying","setIsPlaying","location","navigate","fetchData","tracksRes","artistsRes","albumsRes","Promise","all","get","params","access_token","localStorage","getItem","time_range","data","items","_error$response","console","response","status","handleLogout","removeItem","handlePlayTrack","track","handlePlayArtist","artist","artistId","id","tracks","length","randomTrack","Math","floor","random","handlePlayAlbum","album","albumId","slice","handlePlay","handlePause","handleNext","handlePrevious","handleClosePlayer","renderTimeRangeSelector","className","children","value","onChange","e","target","Object","entries","map","label","fileName","_jsxFileName","lineNumber","columnNumber","onClick","renderTrack","index","_track$album","_track$album$images$","_track$stats","src","images","url","alt","name","fill","viewBox","fillRule","d","clipRule","artists","a","join","stats","playCount","round","duration_ms","renderArtist","_artist$images$","_artist$stats","_artist$stats2","trackCount","renderAlbum","_album$images$","_album$stats","_album$stats2","totalMinutes","renderSection","title","renderItem","item","message","onPlay","onPause","onNext","onPrevious","trackUri","uri","previewUrl","preview_url","onClose","_c","$RefreshReg$"],"sources":["C:/Users/samly/Desktop/CvProjects/SpotCIRCLE/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport SpotifyPlayer from '../components/SpotifyPlayer';\nimport PlayerNotch from '../components/PlayerNotch';\n\nconst API_URL = 'http://localhost:5001/api';\n\nconst TIME_RANGES = {\n  'Last 4 weeks': 'short_term',\n  'Last 6 months': 'medium_term',\n  'All time': 'long_term'\n};\n\nconst Home = () => {\n  const [topTracks, setTopTracks] = useState([]);\n  const [topArtists, setTopArtists] = useState([]);\n  const [topAlbums, setTopAlbums] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [timeRange, setTimeRange] = useState('short_term');\n  const [currentTrack, setCurrentTrack] = useState(null);\n  const [queue, setQueue] = useState([]);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const [tracksRes, artistsRes, albumsRes] = await Promise.all([\n          axios.get(`${API_URL}/auth/top-tracks`, {\n            params: {\n              access_token: localStorage.getItem('spotify_access_token'),\n              time_range: timeRange\n            }\n          }),\n          axios.get(`${API_URL}/auth/top-artists`, {\n            params: {\n              access_token: localStorage.getItem('spotify_access_token'),\n              time_range: timeRange\n            }\n          }),\n          axios.get(`${API_URL}/auth/top-albums`, {\n            params: {\n              access_token: localStorage.getItem('spotify_access_token'),\n              time_range: timeRange\n            }\n          })\n        ]);\n\n        setTopTracks(tracksRes.data.items);\n        setTopArtists(artistsRes.data.items);\n        setTopAlbums(albumsRes.data.items);\n        setLoading(false);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        setError(error);\n        setLoading(false);\n        if (error.response?.status === 401) {\n          navigate('/');\n        }\n      }\n    };\n\n    fetchData();\n  }, [timeRange, navigate]);\n\n  const handleLogout = () => {\n    localStorage.removeItem('spotify_access_token');\n    localStorage.removeItem('spotify_user_id');\n    navigate('/');\n  };\n\n  const handlePlayTrack = (track) => {\n    setCurrentTrack(track);\n    setIsPlaying(true);\n  };\n\n  const handlePlayArtist = async (artist) => {\n    try {\n      const response = await axios.get(`${API_URL}/auth/artist-tracks`, {\n        params: {\n          access_token: localStorage.getItem('spotify_access_token'),\n          artistId: artist.id\n        }\n      });\n      const tracks = response.data.tracks;\n      if (tracks && tracks.length > 0) {\n        const randomTrack = tracks[Math.floor(Math.random() * tracks.length)];\n        setCurrentTrack(randomTrack);\n        setIsPlaying(true);\n      }\n    } catch (error) {\n      console.error('Error playing artist:', error);\n    }\n  };\n\n  const handlePlayAlbum = async (album) => {\n    try {\n      const response = await axios.get(`${API_URL}/auth/album-tracks`, {\n        params: {\n          access_token: localStorage.getItem('spotify_access_token'),\n          albumId: album.id\n        }\n      });\n      const tracks = response.data.items;\n      if (tracks && tracks.length > 0) {\n        setQueue(tracks.slice(1));\n        setCurrentTrack(tracks[0]);\n        setIsPlaying(true);\n      }\n    } catch (error) {\n      console.error('Error playing album:', error);\n    }\n  };\n\n  const handlePlay = () => {\n    setIsPlaying(true);\n  };\n\n  const handlePause = () => {\n    setIsPlaying(false);\n  };\n\n  const handleNext = () => {\n    if (queue.length > 0) {\n      setCurrentTrack(queue[0]);\n      setQueue(queue.slice(1));\n    }\n  };\n\n  const handlePrevious = () => {\n    // For now, just restart the current track\n    // Could be enhanced to keep track of play history\n  };\n\n  const handleClosePlayer = () => {\n    setCurrentTrack(null);\n    setIsPlaying(false);\n    setQueue([]);\n  };\n\n  const renderTimeRangeSelector = () => (\n    <div className=\"flex items-center gap-4\">\n      <select \n        className=\"bg-gray-800 text-white px-4 py-2 rounded-lg\"\n        value={timeRange}\n        onChange={(e) => setTimeRange(e.target.value)}\n      >\n        {Object.entries(TIME_RANGES).map(([label, value]) => (\n          <option key={value} value={value}>{label}</option>\n        ))}\n      </select>\n      <button\n        onClick={handleLogout}\n        className=\"px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg transition-colors\"\n      >\n        Logout\n      </button>\n    </div>\n  );\n\n  const renderTrack = (track, index) => (\n    <div key={track.id} className=\"bg-gray-800/30 p-4 rounded-lg group hover:bg-gray-800/60 transition-all\">\n      <div className=\"relative mb-4\">\n        <img \n          src={track.album?.images[0]?.url} \n          alt={track.name}\n          className=\"w-full aspect-square object-cover rounded-md\"\n        />\n        <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n          <button \n            onClick={() => handlePlayTrack(track)}\n            className=\"p-3 bg-green-500 rounded-full hover:bg-green-600 transition-colors\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\" clipRule=\"evenodd\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n      <div className=\"space-y-1\">\n        <p className=\"font-bold truncate\">{index + 1}. {track.name}</p>\n        <p className=\"text-gray-400 text-sm truncate\">{track.artists.map(a => a.name).join(', ')}</p>\n        <div className=\"text-gray-500 text-sm\">\n          {track.stats?.playCount} streams • {Math.round(track.duration_ms / 60000)} minutes\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderArtist = (artist, index) => (\n    <div key={artist.id} className=\"bg-gray-800/30 p-4 rounded-lg group hover:bg-gray-800/60 transition-all\">\n      <div className=\"relative mb-4\">\n        <img \n          src={artist.images[0]?.url} \n          alt={artist.name}\n          className=\"w-full aspect-square object-cover rounded-full\"\n        />\n        <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-full flex items-center justify-center\">\n          <button \n            onClick={() => handlePlayArtist(artist)}\n            className=\"p-3 bg-green-500 rounded-full hover:bg-green-600 transition-colors\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\" clipRule=\"evenodd\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n      <div className=\"space-y-1 text-center\">\n        <p className=\"font-bold truncate\">{index + 1}. {artist.name}</p>\n        <div className=\"text-gray-500 text-sm\">\n          {artist.stats?.playCount} minutes • {artist.stats?.trackCount} streams\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderAlbum = (album, index) => (\n    <div key={album.id} className=\"bg-gray-800/30 p-4 rounded-lg group hover:bg-gray-800/60 transition-all\">\n      <div className=\"relative mb-4\">\n        <img \n          src={album.images[0]?.url} \n          alt={album.name}\n          className=\"w-full aspect-square object-cover rounded-md\"\n        />\n        <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n          <button \n            onClick={() => handlePlayAlbum(album)}\n            className=\"p-3 bg-green-500 rounded-full hover:bg-green-600 transition-colors\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\" clipRule=\"evenodd\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n      <div className=\"space-y-1\">\n        <p className=\"font-bold truncate\">{index + 1}. {album.name}</p>\n        <p className=\"text-gray-400 text-sm truncate\">{album.artists.map(a => a.name).join(', ')}</p>\n        <div className=\"text-gray-500 text-sm\">\n          {album.stats?.playCount} streams • {Math.round(album.stats?.totalMinutes)} minutes\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderSection = (title, items, renderItem) => (\n    <div>\n      <h2 className=\"text-2xl font-bold mb-4\">{title}</h2>\n      <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\n        {items.map((item, index) => renderItem(item, index))}\n      </div>\n    </div>\n  );\n\n  if (loading) {\n    return <div className=\"flex items-center justify-center min-h-screen\">Loading...</div>;\n  }\n\n  if (error) {\n    return <div className=\"flex items-center justify-center min-h-screen text-red-500\">Error: {error.message}</div>;\n  }\n\n  return (\n    <>\n      <div className=\"container mx-auto p-4 space-y-8 mb-20\">\n        {renderTimeRangeSelector()}\n        {renderSection('Top tracks', topTracks, renderTrack)}\n        {renderSection('Top artists', topArtists, renderArtist)}\n        {renderSection('Top albums', topAlbums, renderAlbum)}\n      </div>\n\n      <PlayerNotch\n        track={currentTrack}\n        onPlay={handlePlay}\n        onPause={handlePause}\n        onNext={handleNext}\n        onPrevious={handlePrevious}\n        isPlaying={isPlaying}\n        queue={queue}\n      />\n\n      {currentTrack && (\n        <SpotifyPlayer\n          trackUri={currentTrack.uri}\n          previewUrl={currentTrack.preview_url}\n          onClose={handleClosePlayer}\n        />\n      )}\n    </>\n  );\n};\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}