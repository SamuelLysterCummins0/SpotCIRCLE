{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\samly\\\\Desktop\\\\CvProjects\\\\SpotCIRCLE\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport SpotifyPlayer from '../components/SpotifyPlayer';\nimport PlayerNotch from '../components/PlayerNotch';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5001/api';\nconst TIME_RANGES = {\n  'Last 4 weeks': 'short_term',\n  'Last 6 months': 'medium_term',\n  'All time': 'long_term'\n};\nconst Home = () => {\n  _s();\n  const [topTracks, setTopTracks] = useState([]);\n  const [topArtists, setTopArtists] = useState([]);\n  const [topAlbums, setTopAlbums] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [timeRange, setTimeRange] = useState('short_term');\n  const [currentTrack, setCurrentTrack] = useState(null);\n  const [queue, setQueue] = useState([]);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const location = useLocation();\n  const navigate = useNavigate();\n  const refreshAccessToken = async () => {\n    try {\n      const refresh_token = localStorage.getItem('spotify_refresh_token');\n      if (!refresh_token) {\n        throw new Error('No refresh token');\n      }\n      const response = await axios.get(`${API_URL}/auth/refresh`, {\n        params: {\n          refresh_token\n        }\n      });\n      localStorage.setItem('spotify_access_token', response.data.access_token);\n      return response.data.access_token;\n    } catch (error) {\n      console.error('Error refreshing token:', error);\n      handleLogout();\n      throw error;\n    }\n  };\n  const apiCall = async (endpoint, params = {}) => {\n    try {\n      const response = await axios.get(`${API_URL}/auth/${endpoint}`, {\n        params: {\n          ...params,\n          access_token: localStorage.getItem('spotify_access_token')\n        }\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response;\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        // Token expired, try to refresh\n        try {\n          const newToken = await refreshAccessToken();\n          // Retry the request with new token\n          const response = await axios.get(`${API_URL}/auth/${endpoint}`, {\n            params: {\n              ...params,\n              access_token: newToken\n            }\n          });\n          return response.data;\n        } catch (refreshError) {\n          // If refresh fails, logout\n          handleLogout();\n          throw refreshError;\n        }\n      }\n      throw error;\n    }\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null); // Clear any previous errors\n\n        console.log('Fetching data with time range:', timeRange);\n        console.log('Access token:', localStorage.getItem('spotify_access_token'));\n        const [tracksRes, artistsRes, albumsRes] = await Promise.all([apiCall('top-tracks', {\n          time_range: timeRange\n        }), apiCall('top-artists', {\n          time_range: timeRange\n        }), apiCall('top-albums', {\n          time_range: timeRange\n        })]);\n        console.log('API Responses:', {\n          tracks: tracksRes,\n          artists: artistsRes,\n          albums: albumsRes\n        });\n        setTopTracks(tracksRes.items);\n        setTopArtists(artistsRes.items);\n        setTopAlbums(albumsRes.items);\n        setError(null);\n      } catch (error) {\n        var _error$response2, _error$response3, _error$response4, _error$response4$data;\n        console.error('Detailed error:', {\n          message: error.message,\n          response: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data,\n          status: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status,\n          stack: error.stack\n        });\n        let errorMessage = 'Failed to load data';\n        if ((_error$response4 = error.response) !== null && _error$response4 !== void 0 && (_error$response4$data = _error$response4.data) !== null && _error$response4$data !== void 0 && _error$response4$data.error) {\n          errorMessage = `Server error: ${error.response.data.error}`;\n        } else if (error.message) {\n          errorMessage = `Error: ${error.message}`;\n        }\n        setError(errorMessage);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const token = localStorage.getItem('spotify_access_token');\n    if (!token) {\n      setError('No access token found. Please log in again.');\n      setLoading(false);\n      navigate('/');\n      return;\n    }\n    fetchData();\n  }, [timeRange, navigate]);\n  const handleLogout = () => {\n    localStorage.removeItem('spotify_access_token');\n    localStorage.removeItem('spotify_refresh_token');\n    localStorage.removeItem('spotify_user_id');\n    navigate('/');\n  };\n  const handlePlayTrack = track => {\n    setCurrentTrack(track);\n    setIsPlaying(true);\n  };\n  const handlePlayArtist = async artist => {\n    try {\n      const response = await apiCall('artist-tracks', {\n        artistId: artist.id\n      });\n      const tracks = response.tracks;\n      if (tracks && tracks.length > 0) {\n        const randomTrack = tracks[Math.floor(Math.random() * tracks.length)];\n        setCurrentTrack(randomTrack);\n        setIsPlaying(true);\n      }\n    } catch (error) {\n      console.error('Error playing artist:', error);\n      setError('Failed to play artist');\n    }\n  };\n  const handlePlayAlbum = async album => {\n    try {\n      const response = await apiCall('album-tracks', {\n        albumId: album.id\n      });\n      const tracks = response.items;\n      if (tracks && tracks.length > 0) {\n        setQueue(tracks.slice(1));\n        setCurrentTrack(tracks[0]);\n        setIsPlaying(true);\n      }\n    } catch (error) {\n      console.error('Error playing album:', error);\n      setError('Failed to play album');\n    }\n  };\n  const handlePlay = () => {\n    setIsPlaying(true);\n  };\n  const handlePause = () => {\n    setIsPlaying(false);\n  };\n  const handleNext = () => {\n    if (queue.length > 0) {\n      setCurrentTrack(queue[0]);\n      setQueue(queue.slice(1));\n    }\n  };\n  const handlePrevious = () => {\n    // For now, just restart the current track\n    // Could be enhanced to keep track of play history\n  };\n  const handleClosePlayer = () => {\n    setCurrentTrack(null);\n    setIsPlaying(false);\n    setQueue([]);\n  };\n  const renderTimeRangeSelector = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center gap-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"bg-gray-800 text-white px-4 py-2 rounded-lg\",\n      value: timeRange,\n      onChange: e => setTimeRange(e.target.value),\n      children: Object.entries(TIME_RANGES).map(([label, value]) => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: value,\n        children: label\n      }, value, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      className: \"px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg transition-colors\",\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n  const renderTrack = (track, index) => {\n    var _track$album, _track$album$images$, _track$stats;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800/30 p-4 rounded-lg group hover:bg-gray-800/60 transition-all\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: (_track$album = track.album) === null || _track$album === void 0 ? void 0 : (_track$album$images$ = _track$album.images[0]) === null || _track$album$images$ === void 0 ? void 0 : _track$album$images$.url,\n          alt: track.name,\n          className: \"w-full aspect-square object-cover rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handlePlayTrack(track),\n            className: \"p-3 bg-green-500 rounded-full hover:bg-green-600 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold truncate\",\n          children: [index + 1, \". \", track.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400 text-sm truncate\",\n          children: track.artists.map(a => a.name).join(', ')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-500 text-sm\",\n          children: [(_track$stats = track.stats) === null || _track$stats === void 0 ? void 0 : _track$stats.playCount, \" streams \\u2022 \", Math.round(track.duration_ms / 60000), \" minutes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 7\n      }, this)]\n    }, track.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 5\n    }, this);\n  };\n  const renderArtist = (artist, index) => {\n    var _artist$images$, _artist$stats, _artist$stats2;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800/30 p-4 rounded-lg group hover:bg-gray-800/60 transition-all\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: (_artist$images$ = artist.images[0]) === null || _artist$images$ === void 0 ? void 0 : _artist$images$.url,\n          alt: artist.name,\n          className: \"w-full aspect-square object-cover rounded-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-full flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handlePlayArtist(artist),\n            className: \"p-3 bg-green-500 rounded-full hover:bg-green-600 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold truncate\",\n          children: [index + 1, \". \", artist.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-500 text-sm\",\n          children: [(_artist$stats = artist.stats) === null || _artist$stats === void 0 ? void 0 : _artist$stats.playCount, \" minutes \\u2022 \", (_artist$stats2 = artist.stats) === null || _artist$stats2 === void 0 ? void 0 : _artist$stats2.trackCount, \" streams\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 7\n      }, this)]\n    }, artist.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 5\n    }, this);\n  };\n  const renderAlbum = (album, index) => {\n    var _album$images$, _album$stats, _album$stats2;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800/30 p-4 rounded-lg group hover:bg-gray-800/60 transition-all\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: (_album$images$ = album.images[0]) === null || _album$images$ === void 0 ? void 0 : _album$images$.url,\n          alt: album.name,\n          className: \"w-full aspect-square object-cover rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handlePlayAlbum(album),\n            className: \"p-3 bg-green-500 rounded-full hover:bg-green-600 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold truncate\",\n          children: [index + 1, \". \", album.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400 text-sm truncate\",\n          children: album.artists.map(a => a.name).join(', ')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-500 text-sm\",\n          children: [(_album$stats = album.stats) === null || _album$stats === void 0 ? void 0 : _album$stats.playCount, \" streams \\u2022 \", Math.round((_album$stats2 = album.stats) === null || _album$stats2 === void 0 ? void 0 : _album$stats2.totalMinutes), \" minutes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 7\n      }, this)]\n    }, album.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 5\n    }, this);\n  };\n  const renderSection = (title, items, renderItem) => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\",\n      children: items.map((item, index) => renderItem(item, index))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 312,\n    columnNumber: 5\n  }, this);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center min-h-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500\",\n        children: [\"Time Range: \", timeRange, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 34\n        }, this), \"Token Present: \", localStorage.getItem('spotify_access_token') ? 'Yes' : 'No', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 87\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 mt-2\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center min-h-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-500 mb-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        className: \"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700\",\n        children: \"Logout and Try Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto p-4 space-y-8 mb-20\",\n      children: [renderTimeRangeSelector(), renderSection('Top tracks', topTracks, renderTrack), renderSection('Top artists', topArtists, renderArtist), renderSection('Top albums', topAlbums, renderAlbum)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PlayerNotch, {\n      track: currentTrack,\n      onPlay: handlePlay,\n      onPause: handlePause,\n      onNext: handleNext,\n      onPrevious: handlePrevious,\n      isPlaying: isPlaying,\n      queue: queue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 7\n    }, this), currentTrack && /*#__PURE__*/_jsxDEV(SpotifyPlayer, {\n      trackUri: currentTrack.uri,\n      previewUrl: currentTrack.preview_url,\n      onClose: handleClosePlayer\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(Home, \"GJcX7Wh+jj+W6pLTqJRw2/4OCXg=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","axios","useLocation","useNavigate","SpotifyPlayer","PlayerNotch","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","TIME_RANGES","Home","_s","topTracks","setTopTracks","topArtists","setTopArtists","topAlbums","setTopAlbums","loading","setLoading","error","setError","timeRange","setTimeRange","currentTrack","setCurrentTrack","queue","setQueue","isPlaying","setIsPlaying","location","navigate","refreshAccessToken","refresh_token","localStorage","getItem","Error","response","get","params","setItem","data","access_token","console","handleLogout","apiCall","endpoint","_error$response","status","newToken","refreshError","fetchData","log","tracksRes","artistsRes","albumsRes","Promise","all","time_range","tracks","artists","albums","items","_error$response2","_error$response3","_error$response4","_error$response4$data","message","stack","errorMessage","token","removeItem","handlePlayTrack","track","handlePlayArtist","artist","artistId","id","length","randomTrack","Math","floor","random","handlePlayAlbum","album","albumId","slice","handlePlay","handlePause","handleNext","handlePrevious","handleClosePlayer","renderTimeRangeSelector","className","children","value","onChange","e","target","Object","entries","map","label","fileName","_jsxFileName","lineNumber","columnNumber","onClick","renderTrack","index","_track$album","_track$album$images$","_track$stats","src","images","url","alt","name","fill","viewBox","fillRule","d","clipRule","a","join","stats","playCount","round","duration_ms","renderArtist","_artist$images$","_artist$stats","_artist$stats2","trackCount","renderAlbum","_album$images$","_album$stats","_album$stats2","totalMinutes","renderSection","title","renderItem","item","onPlay","onPause","onNext","onPrevious","trackUri","uri","previewUrl","preview_url","onClose","_c","$RefreshReg$"],"sources":["C:/Users/samly/Desktop/CvProjects/SpotCIRCLE/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport SpotifyPlayer from '../components/SpotifyPlayer';\nimport PlayerNotch from '../components/PlayerNotch';\n\nconst API_URL = 'http://localhost:5001/api';\n\nconst TIME_RANGES = {\n  'Last 4 weeks': 'short_term',\n  'Last 6 months': 'medium_term',\n  'All time': 'long_term'\n};\n\nconst Home = () => {\n  const [topTracks, setTopTracks] = useState([]);\n  const [topArtists, setTopArtists] = useState([]);\n  const [topAlbums, setTopAlbums] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [timeRange, setTimeRange] = useState('short_term');\n  const [currentTrack, setCurrentTrack] = useState(null);\n  const [queue, setQueue] = useState([]);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const refreshAccessToken = async () => {\n    try {\n      const refresh_token = localStorage.getItem('spotify_refresh_token');\n      if (!refresh_token) {\n        throw new Error('No refresh token');\n      }\n\n      const response = await axios.get(`${API_URL}/auth/refresh`, {\n        params: { refresh_token }\n      });\n\n      localStorage.setItem('spotify_access_token', response.data.access_token);\n      return response.data.access_token;\n    } catch (error) {\n      console.error('Error refreshing token:', error);\n      handleLogout();\n      throw error;\n    }\n  };\n\n  const apiCall = async (endpoint, params = {}) => {\n    try {\n      const response = await axios.get(`${API_URL}/auth/${endpoint}`, {\n        params: {\n          ...params,\n          access_token: localStorage.getItem('spotify_access_token')\n        }\n      });\n      return response.data;\n    } catch (error) {\n      if (error.response?.status === 401) {\n        // Token expired, try to refresh\n        try {\n          const newToken = await refreshAccessToken();\n          // Retry the request with new token\n          const response = await axios.get(`${API_URL}/auth/${endpoint}`, {\n            params: {\n              ...params,\n              access_token: newToken\n            }\n          });\n          return response.data;\n        } catch (refreshError) {\n          // If refresh fails, logout\n          handleLogout();\n          throw refreshError;\n        }\n      }\n      throw error;\n    }\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null); // Clear any previous errors\n        \n        console.log('Fetching data with time range:', timeRange);\n        console.log('Access token:', localStorage.getItem('spotify_access_token'));\n        \n        const [tracksRes, artistsRes, albumsRes] = await Promise.all([\n          apiCall('top-tracks', { time_range: timeRange }),\n          apiCall('top-artists', { time_range: timeRange }),\n          apiCall('top-albums', { time_range: timeRange })\n        ]);\n\n        console.log('API Responses:', {\n          tracks: tracksRes,\n          artists: artistsRes,\n          albums: albumsRes\n        });\n\n        setTopTracks(tracksRes.items);\n        setTopArtists(artistsRes.items);\n        setTopAlbums(albumsRes.items);\n        setError(null);\n      } catch (error) {\n        console.error('Detailed error:', {\n          message: error.message,\n          response: error.response?.data,\n          status: error.response?.status,\n          stack: error.stack\n        });\n        \n        let errorMessage = 'Failed to load data';\n        if (error.response?.data?.error) {\n          errorMessage = `Server error: ${error.response.data.error}`;\n        } else if (error.message) {\n          errorMessage = `Error: ${error.message}`;\n        }\n        \n        setError(errorMessage);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    const token = localStorage.getItem('spotify_access_token');\n    if (!token) {\n      setError('No access token found. Please log in again.');\n      setLoading(false);\n      navigate('/');\n      return;\n    }\n\n    fetchData();\n  }, [timeRange, navigate]);\n\n  const handleLogout = () => {\n    localStorage.removeItem('spotify_access_token');\n    localStorage.removeItem('spotify_refresh_token');\n    localStorage.removeItem('spotify_user_id');\n    navigate('/');\n  };\n\n  const handlePlayTrack = (track) => {\n    setCurrentTrack(track);\n    setIsPlaying(true);\n  };\n\n  const handlePlayArtist = async (artist) => {\n    try {\n      const response = await apiCall('artist-tracks', { artistId: artist.id });\n      const tracks = response.tracks;\n      if (tracks && tracks.length > 0) {\n        const randomTrack = tracks[Math.floor(Math.random() * tracks.length)];\n        setCurrentTrack(randomTrack);\n        setIsPlaying(true);\n      }\n    } catch (error) {\n      console.error('Error playing artist:', error);\n      setError('Failed to play artist');\n    }\n  };\n\n  const handlePlayAlbum = async (album) => {\n    try {\n      const response = await apiCall('album-tracks', { albumId: album.id });\n      const tracks = response.items;\n      if (tracks && tracks.length > 0) {\n        setQueue(tracks.slice(1));\n        setCurrentTrack(tracks[0]);\n        setIsPlaying(true);\n      }\n    } catch (error) {\n      console.error('Error playing album:', error);\n      setError('Failed to play album');\n    }\n  };\n\n  const handlePlay = () => {\n    setIsPlaying(true);\n  };\n\n  const handlePause = () => {\n    setIsPlaying(false);\n  };\n\n  const handleNext = () => {\n    if (queue.length > 0) {\n      setCurrentTrack(queue[0]);\n      setQueue(queue.slice(1));\n    }\n  };\n\n  const handlePrevious = () => {\n    // For now, just restart the current track\n    // Could be enhanced to keep track of play history\n  };\n\n  const handleClosePlayer = () => {\n    setCurrentTrack(null);\n    setIsPlaying(false);\n    setQueue([]);\n  };\n\n  const renderTimeRangeSelector = () => (\n    <div className=\"flex items-center gap-4\">\n      <select \n        className=\"bg-gray-800 text-white px-4 py-2 rounded-lg\"\n        value={timeRange}\n        onChange={(e) => setTimeRange(e.target.value)}\n      >\n        {Object.entries(TIME_RANGES).map(([label, value]) => (\n          <option key={value} value={value}>{label}</option>\n        ))}\n      </select>\n      <button\n        onClick={handleLogout}\n        className=\"px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg transition-colors\"\n      >\n        Logout\n      </button>\n    </div>\n  );\n\n  const renderTrack = (track, index) => (\n    <div key={track.id} className=\"bg-gray-800/30 p-4 rounded-lg group hover:bg-gray-800/60 transition-all\">\n      <div className=\"relative mb-4\">\n        <img \n          src={track.album?.images[0]?.url} \n          alt={track.name}\n          className=\"w-full aspect-square object-cover rounded-md\"\n        />\n        <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n          <button \n            onClick={() => handlePlayTrack(track)}\n            className=\"p-3 bg-green-500 rounded-full hover:bg-green-600 transition-colors\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\" clipRule=\"evenodd\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n      <div className=\"space-y-1\">\n        <p className=\"font-bold truncate\">{index + 1}. {track.name}</p>\n        <p className=\"text-gray-400 text-sm truncate\">{track.artists.map(a => a.name).join(', ')}</p>\n        <div className=\"text-gray-500 text-sm\">\n          {track.stats?.playCount} streams • {Math.round(track.duration_ms / 60000)} minutes\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderArtist = (artist, index) => (\n    <div key={artist.id} className=\"bg-gray-800/30 p-4 rounded-lg group hover:bg-gray-800/60 transition-all\">\n      <div className=\"relative mb-4\">\n        <img \n          src={artist.images[0]?.url} \n          alt={artist.name}\n          className=\"w-full aspect-square object-cover rounded-full\"\n        />\n        <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-full flex items-center justify-center\">\n          <button \n            onClick={() => handlePlayArtist(artist)}\n            className=\"p-3 bg-green-500 rounded-full hover:bg-green-600 transition-colors\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\" clipRule=\"evenodd\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n      <div className=\"space-y-1 text-center\">\n        <p className=\"font-bold truncate\">{index + 1}. {artist.name}</p>\n        <div className=\"text-gray-500 text-sm\">\n          {artist.stats?.playCount} minutes • {artist.stats?.trackCount} streams\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderAlbum = (album, index) => (\n    <div key={album.id} className=\"bg-gray-800/30 p-4 rounded-lg group hover:bg-gray-800/60 transition-all\">\n      <div className=\"relative mb-4\">\n        <img \n          src={album.images[0]?.url} \n          alt={album.name}\n          className=\"w-full aspect-square object-cover rounded-md\"\n        />\n        <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n          <button \n            onClick={() => handlePlayAlbum(album)}\n            className=\"p-3 bg-green-500 rounded-full hover:bg-green-600 transition-colors\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\" clipRule=\"evenodd\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n      <div className=\"space-y-1\">\n        <p className=\"font-bold truncate\">{index + 1}. {album.name}</p>\n        <p className=\"text-gray-400 text-sm truncate\">{album.artists.map(a => a.name).join(', ')}</p>\n        <div className=\"text-gray-500 text-sm\">\n          {album.stats?.playCount} streams • {Math.round(album.stats?.totalMinutes)} minutes\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderSection = (title, items, renderItem) => (\n    <div>\n      <h2 className=\"text-2xl font-bold mb-4\">{title}</h2>\n      <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\n        {items.map((item, index) => renderItem(item, index))}\n      </div>\n    </div>\n  );\n\n  if (loading) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-screen\">\n        <div className=\"mb-4\">Loading...</div>\n        <div className=\"text-sm text-gray-500\">\n          Time Range: {timeRange}<br/>\n          Token Present: {localStorage.getItem('spotify_access_token') ? 'Yes' : 'No'}<br/>\n          {error && <div className=\"text-red-500 mt-2\">{error}</div>}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-screen\">\n        <div className=\"text-red-500 mb-4\">{error}</div>\n        <button \n          onClick={handleLogout}\n          className=\"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700\"\n        >\n          Logout and Try Again\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"container mx-auto p-4 space-y-8 mb-20\">\n        {renderTimeRangeSelector()}\n        {renderSection('Top tracks', topTracks, renderTrack)}\n        {renderSection('Top artists', topArtists, renderArtist)}\n        {renderSection('Top albums', topAlbums, renderAlbum)}\n      </div>\n\n      <PlayerNotch\n        track={currentTrack}\n        onPlay={handlePlay}\n        onPause={handlePause}\n        onNext={handleNext}\n        onPrevious={handlePrevious}\n        isPlaying={isPlaying}\n        queue={queue}\n      />\n\n      {currentTrack && (\n        <SpotifyPlayer\n          trackUri={currentTrack.uri}\n          previewUrl={currentTrack.preview_url}\n          onClose={handleClosePlayer}\n        />\n      )}\n    </>\n  );\n};\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}